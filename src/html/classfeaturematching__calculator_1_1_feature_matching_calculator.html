<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Aurora Master Thesis: featurematching_calculator.FeatureMatchingCalculator Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Aurora Master Thesis
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacefeaturematching__calculator.html">featurematching_calculator</a></li><li class="navelem"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html">FeatureMatchingCalculator</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classfeaturematching__calculator_1_1_feature_matching_calculator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">featurematching_calculator.FeatureMatchingCalculator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a154932a412d198c02e87f74146daa515"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a154932a412d198c02e87f74146daa515">__init__</a> (self)</td></tr>
<tr class="separator:a154932a412d198c02e87f74146daa515"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6a4d203c4ceda8e084ef5d7c7580a7f"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#ab6a4d203c4ceda8e084ef5d7c7580a7f">cayley2hom</a> (self, cayleyParams)</td></tr>
<tr class="separator:ab6a4d203c4ceda8e084ef5d7c7580a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a608f2644b0f9595f5e6e99075a118a3e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a608f2644b0f9595f5e6e99075a118a3e">cayley2rot</a> (self, cayParamIn)</td></tr>
<tr class="separator:a608f2644b0f9595f5e6e99075a118a3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3ee18bdaeb207cb42578a126810d5e7"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#ab3ee18bdaeb207cb42578a126810d5e7">extract_descriptors</a> (self, msg)</td></tr>
<tr class="separator:ab3ee18bdaeb207cb42578a126810d5e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5039d1a0e26d65ebfd5aac937267a658"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a5039d1a0e26d65ebfd5aac937267a658">euclidean_distance</a> (self, pt1, pt2)</td></tr>
<tr class="separator:a5039d1a0e26d65ebfd5aac937267a658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4988fe1e3a7a9a1196319ef9ce2ba4ce"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a4988fe1e3a7a9a1196319ef9ce2ba4ce">calculate_mean_distance</a> (self, pt1s, pt2s)</td></tr>
<tr class="separator:a4988fe1e3a7a9a1196319ef9ce2ba4ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3242060cdd5ea2231b777e49a96fd52"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#ab3242060cdd5ea2231b777e49a96fd52">calculate_mean_points</a> (self, valid_pt1s, valid_pt2s)</td></tr>
<tr class="separator:ab3242060cdd5ea2231b777e49a96fd52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b26c02f2d32d3e86c051a9b0ee6a7f3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a9b26c02f2d32d3e86c051a9b0ee6a7f3">odometry_callback</a> (self, msg)</td></tr>
<tr class="separator:a9b26c02f2d32d3e86c051a9b0ee6a7f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f30516fe7f3ae567bb5df0b504ca6d5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a4f30516fe7f3ae567bb5df0b504ca6d5">dvl_callback</a> (self, msg)</td></tr>
<tr class="separator:a4f30516fe7f3ae567bb5df0b504ca6d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1337cd786ec4083c08a7d76218a3e554"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a1337cd786ec4083c08a7d76218a3e554">matching</a> (self, current_descriptors, current_keypoints, current_points_3d, last_points_3d, last_descriptors, last_keypoints)</td></tr>
<tr class="separator:a1337cd786ec4083c08a7d76218a3e554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01af9077d354fbe42b92e5263b2417d0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a01af9077d354fbe42b92e5263b2417d0">pnp_ransac</a> (self, pt_2d_current_vector, pt_2d_previous_vector, pt_3d_current_vector, pt_3d_previous_vector, <a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a33a168311052af5fca518090e61e0806">intrinsic_matrices</a>)</td></tr>
<tr class="separator:a01af9077d354fbe42b92e5263b2417d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af52e2f18717a3155603794a44b08016e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#af52e2f18717a3155603794a44b08016e">reprojection_error</a> (self, model_points_previous, image_points_current, model_points_current, image_points_previous, rvec, tvec, <a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a33a168311052af5fca518090e61e0806">intrinsic_matrices</a>, current_cam_T_world, last_cam_T_world)</td></tr>
<tr class="separator:af52e2f18717a3155603794a44b08016e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ad8d5fb66500c7169304f470fd4d1557c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#ad8d5fb66500c7169304f470fd4d1557c">bf</a></td></tr>
<tr class="memdesc:ad8d5fb66500c7169304f470fd4d1557c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable to store the BFMatcher, used in the feature matching process (see function matching in <a class="el" href="featurematching__calculator_8py.html">featurematching_calculator.py</a>)  <a href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#ad8d5fb66500c7169304f470fd4d1557c">More...</a><br /></td></tr>
<tr class="separator:ad8d5fb66500c7169304f470fd4d1557c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af30f0ed6647511cce8c1bd0820911ef2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#af30f0ed6647511cce8c1bd0820911ef2">threshold_distance</a></td></tr>
<tr class="memdesc:af30f0ed6647511cce8c1bd0820911ef2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable to store the threshold for the Euclidean distance between 3D points, used to filter the matches.  <a href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#af30f0ed6647511cce8c1bd0820911ef2">More...</a><br /></td></tr>
<tr class="separator:af30f0ed6647511cce8c1bd0820911ef2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aa746c458be9d2a58c9dc39fbca0784"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a6aa746c458be9d2a58c9dc39fbca0784">reprojection_threshold</a></td></tr>
<tr class="memdesc:a6aa746c458be9d2a58c9dc39fbca0784"><td class="mdescLeft">&#160;</td><td class="mdescRight">Variable to store reprojection threshold, used to filter valid 3D points.  <a href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a6aa746c458be9d2a58c9dc39fbca0784">More...</a><br /></td></tr>
<tr class="separator:a6aa746c458be9d2a58c9dc39fbca0784"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a880f945e7f2da35be1dc9412375fdd51"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a880f945e7f2da35be1dc9412375fdd51">current_position</a></td></tr>
<tr class="separator:a880f945e7f2da35be1dc9412375fdd51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a178f63bb426ce7300fe014be42e3a3c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a178f63bb426ce7300fe014be42e3a3c8">current_velocity</a></td></tr>
<tr class="separator:a178f63bb426ce7300fe014be42e3a3c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:acb21bcfae01f24735714592e7bd2afbd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#acb21bcfae01f24735714592e7bd2afbd">camera_params</a></td></tr>
<tr class="separator:acb21bcfae01f24735714592e7bd2afbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d3c43f09b661582133e6367c8cace05"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a6d3c43f09b661582133e6367c8cace05">robot_points</a></td></tr>
<tr class="separator:a6d3c43f09b661582133e6367c8cace05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33a168311052af5fca518090e61e0806"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a33a168311052af5fca518090e61e0806">intrinsic_matrices</a></td></tr>
<tr class="separator:a33a168311052af5fca518090e61e0806"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ee9d729410dad27c10cb4dfa14c9c97"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a0ee9d729410dad27c10cb4dfa14c9c97">fx</a> = self.camera_params[f'Camera_pinhole_fx_cam{i}']</td></tr>
<tr class="separator:a0ee9d729410dad27c10cb4dfa14c9c97"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a3c91f8f98ade31c0dbcc5ec692b9fc"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a9a3c91f8f98ade31c0dbcc5ec692b9fc">fy</a> = self.camera_params[f'Camera_pinhole_fy_cam{i}']</td></tr>
<tr class="separator:a9a3c91f8f98ade31c0dbcc5ec692b9fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a752ab149258c0cf11dfe65013f29a8c8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a752ab149258c0cf11dfe65013f29a8c8">cx</a> = self.camera_params[f'Camera_pinhole_px_cam{i}']</td></tr>
<tr class="separator:a752ab149258c0cf11dfe65013f29a8c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00a71a0cc7cf7724cac8eb1f9e366059"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a00a71a0cc7cf7724cac8eb1f9e366059">cy</a> = self.camera_params[f'Camera_pinhole_py_cam{i}']</td></tr>
<tr class="separator:a00a71a0cc7cf7724cac8eb1f9e366059"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cb6c32aa57fa44596f074a6fe579889"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#a8cb6c32aa57fa44596f074a6fe579889">extrinsic_matrices</a></td></tr>
<tr class="separator:a8cb6c32aa57fa44596f074a6fe579889"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac877a4d4207e4bf0b90b63de46fb7bcd"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classfeaturematching__calculator_1_1_feature_matching_calculator.html#ac877a4d4207e4bf0b90b63de46fb7bcd">params</a></td></tr>
<tr class="separator:ac877a4d4207e4bf0b90b63de46fb7bcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">This node implements the feature matching algorithm, the PnP RANSAC algorithm and the reprojection error algorithm
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a154932a412d198c02e87f74146daa515"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a154932a412d198c02e87f74146daa515">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def featurematching_calculator.FeatureMatchingCalculator.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a4988fe1e3a7a9a1196319ef9ce2ba4ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4988fe1e3a7a9a1196319ef9ce2ba4ce">&#9670;&nbsp;</a></span>calculate_mean_distance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def featurematching_calculator.FeatureMatchingCalculator.calculate_mean_distance </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pt1s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pt2s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Function to compute the mean distance between two sets of 3D points
Return: A numpy array of the mean distance
</pre> 
</div>
</div>
<a id="ab3242060cdd5ea2231b777e49a96fd52"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3242060cdd5ea2231b777e49a96fd52">&#9670;&nbsp;</a></span>calculate_mean_points()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def featurematching_calculator.FeatureMatchingCalculator.calculate_mean_points </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>valid_pt1s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>valid_pt2s</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Function to compute the mean points between two sets of 3D points
Return: The mean points
</pre> 
</div>
</div>
<a id="ab6a4d203c4ceda8e084ef5d7c7580a7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6a4d203c4ceda8e084ef5d7c7580a7f">&#9670;&nbsp;</a></span>cayley2hom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def featurematching_calculator.FeatureMatchingCalculator.cayley2hom </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cayleyParams</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Converts Cayley parameters to a homogeneous matrix
return: A 4x4 homogeneous matrix
</pre> 
</div>
</div>
<a id="a608f2644b0f9595f5e6e99075a118a3e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a608f2644b0f9595f5e6e99075a118a3e">&#9670;&nbsp;</a></span>cayley2rot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def featurematching_calculator.FeatureMatchingCalculator.cayley2rot </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cayParamIn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Converts Cayley parameters to a rotation matrix
return: A 3x3 rotation matrix
</pre> 
</div>
</div>
<a id="a4f30516fe7f3ae567bb5df0b504ca6d5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f30516fe7f3ae567bb5df0b504ca6d5">&#9670;&nbsp;</a></span>dvl_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def featurematching_calculator.FeatureMatchingCalculator.dvl_callback </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Callback function for the DVL topic, used to get the current velocity
Args:
    msg: The message containing the DVL data
</pre> 
</div>
</div>
<a id="a5039d1a0e26d65ebfd5aac937267a658"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5039d1a0e26d65ebfd5aac937267a658">&#9670;&nbsp;</a></span>euclidean_distance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def featurematching_calculator.FeatureMatchingCalculator.euclidean_distance </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pt1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pt2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Function to compute the Euclidean distance between two 3D points
Return: A numpy array of the Euclidean distance
</pre> 
</div>
</div>
<a id="ab3ee18bdaeb207cb42578a126810d5e7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3ee18bdaeb207cb42578a126810d5e7">&#9670;&nbsp;</a></span>extract_descriptors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def featurematching_calculator.FeatureMatchingCalculator.extract_descriptors </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Function to extracts descriptors from the message
Args:
    msg: The message containing descriptors
Return:  A numpy array of extracted descriptors
</pre> 
</div>
</div>
<a id="a1337cd786ec4083c08a7d76218a3e554"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1337cd786ec4083c08a7d76218a3e554">&#9670;&nbsp;</a></span>matching()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def featurematching_calculator.FeatureMatchingCalculator.matching </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>current_descriptors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>current_keypoints</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>current_points_3d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>last_points_3d</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>last_descriptors</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>last_keypoints</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This is the feature matching function. Using a BFMatcher, it matches the current descriptors, the 3D points and keypoints of two 
consecutive messages and it filters the matches based on the Euclidean distance between the 3D points. If the Euclidean distance
is smaller than the threshold distance set at 30 cm, the match is considered valid.
Args:
    current_descriptors: Descriptors from the current frame
    current_keypoints: Keypoints from the current frame
    current_points_3d: 3D points from the current frame
    last_points_3d: 3D points from the previous frame
    last_descriptors: Descriptors from the previous frame
    last_keypoints: Keypoints from the previous frame
Return: The 2D and 3D points of the current and previous images, the good matches and the number of matches
</pre> 
</div>
</div>
<a id="a9b26c02f2d32d3e86c051a9b0ee6a7f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9b26c02f2d32d3e86c051a9b0ee6a7f3">&#9670;&nbsp;</a></span>odometry_callback()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def featurematching_calculator.FeatureMatchingCalculator.odometry_callback </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Callback function for the odometry topic, used to get the current position
Args:
    msg: The message containing the odometry data
</pre> 
</div>
</div>
<a id="a01af9077d354fbe42b92e5263b2417d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01af9077d354fbe42b92e5263b2417d0">&#9670;&nbsp;</a></span>pnp_ransac()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def featurematching_calculator.FeatureMatchingCalculator.pnp_ransac </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pt_2d_current_vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pt_2d_previous_vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pt_3d_current_vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pt_3d_previous_vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>intrinsic_matrices</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This is the PnP RANSAC function. Computes the R,t vectors to project the 3D points of the previous image into the current image
Args:
    pt_2d_current_vector: 2D points from the current image
    pt_2d_previous_vector: 2D points from the previous image
    pt_3d_current_vector: 3D points from the current image
    pt_3d_previous_vector: 3D points from the previous image
    intrinsic_matrices: Camera intrinsic matrices
Return: The 3D and 2D points of the current and previous images, the success of the PnP RANSAC, the rotation and translation vectors, the inliers
</pre> 
</div>
</div>
<a id="af52e2f18717a3155603794a44b08016e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af52e2f18717a3155603794a44b08016e">&#9670;&nbsp;</a></span>reprojection_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def featurematching_calculator.FeatureMatchingCalculator.reprojection_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>model_points_previous</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image_points_current</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>model_points_current</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>image_points_previous</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rvec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tvec</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>intrinsic_matrices</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>current_cam_T_world</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>last_cam_T_world</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This function calculates the reprojection error of the 3D points. It reprojects the 3D points of the previous image into the current image and 
the 3D points of the current image into the previous image. If the distance between the reprojected 2D points and the actual 2D points is smaller
than the reprojection threshold, the 3D point is considered valid.
Args:
    model_points_previous: 3D points from the previous image
    image_points_current: 2D points from the current image
    model_points_current: 3D points from the current image
    image_points_previous: 2D points from the previous image
    rvec: Rotation vector from PnP RANSAC
    tvec: Translation vector from PnP RANSAC
    intrinsic_matrices: Camera intrinsic matrices
    current_cam_T_world: Current camera transformation matrix 
    last_cam_T_world: Previous camera transformation matrix 
Return: The valid 3D points, the distances from the camera and the distances between the 2D points
</pre> 
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad8d5fb66500c7169304f470fd4d1557c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad8d5fb66500c7169304f470fd4d1557c">&#9670;&nbsp;</a></span>bf</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">featurematching_calculator.FeatureMatchingCalculator.bf</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Variable to store the BFMatcher, used in the feature matching process (see function matching in <a class="el" href="featurematching__calculator_8py.html">featurematching_calculator.py</a>) </p>

</div>
</div>
<a id="acb21bcfae01f24735714592e7bd2afbd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb21bcfae01f24735714592e7bd2afbd">&#9670;&nbsp;</a></span>camera_params</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">featurematching_calculator.FeatureMatchingCalculator.camera_params</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a880f945e7f2da35be1dc9412375fdd51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a880f945e7f2da35be1dc9412375fdd51">&#9670;&nbsp;</a></span>current_position</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">featurematching_calculator.FeatureMatchingCalculator.current_position</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a178f63bb426ce7300fe014be42e3a3c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a178f63bb426ce7300fe014be42e3a3c8">&#9670;&nbsp;</a></span>current_velocity</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">featurematching_calculator.FeatureMatchingCalculator.current_velocity</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a752ab149258c0cf11dfe65013f29a8c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a752ab149258c0cf11dfe65013f29a8c8">&#9670;&nbsp;</a></span>cx</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">featurematching_calculator.FeatureMatchingCalculator.cx = self.camera_params[f'Camera_pinhole_px_cam{i}']</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a00a71a0cc7cf7724cac8eb1f9e366059"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a00a71a0cc7cf7724cac8eb1f9e366059">&#9670;&nbsp;</a></span>cy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">featurematching_calculator.FeatureMatchingCalculator.cy = self.camera_params[f'Camera_pinhole_py_cam{i}']</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a8cb6c32aa57fa44596f074a6fe579889"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cb6c32aa57fa44596f074a6fe579889">&#9670;&nbsp;</a></span>extrinsic_matrices</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">featurematching_calculator.FeatureMatchingCalculator.extrinsic_matrices</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0ee9d729410dad27c10cb4dfa14c9c97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ee9d729410dad27c10cb4dfa14c9c97">&#9670;&nbsp;</a></span>fx</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">featurematching_calculator.FeatureMatchingCalculator.fx = self.camera_params[f'Camera_pinhole_fx_cam{i}']</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a9a3c91f8f98ade31c0dbcc5ec692b9fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a3c91f8f98ade31c0dbcc5ec692b9fc">&#9670;&nbsp;</a></span>fy</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">featurematching_calculator.FeatureMatchingCalculator.fy = self.camera_params[f'Camera_pinhole_fy_cam{i}']</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a33a168311052af5fca518090e61e0806"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33a168311052af5fca518090e61e0806">&#9670;&nbsp;</a></span>intrinsic_matrices</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">featurematching_calculator.FeatureMatchingCalculator.intrinsic_matrices</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ac877a4d4207e4bf0b90b63de46fb7bcd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac877a4d4207e4bf0b90b63de46fb7bcd">&#9670;&nbsp;</a></span>params</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list featurematching_calculator.FeatureMatchingCalculator.params</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=  [</div>
<div class="line">                self.camera_params[f<span class="stringliteral">&#39;CameraSystem_cam{i}_1&#39;</span>],</div>
<div class="line">                self.camera_params[f<span class="stringliteral">&#39;CameraSystem_cam{i}_2&#39;</span>],</div>
<div class="line">                self.camera_params[f<span class="stringliteral">&#39;CameraSystem_cam{i}_3&#39;</span>],</div>
<div class="line">                self.camera_params[f<span class="stringliteral">&#39;CameraSystem_cam{i}_4&#39;</span>],</div>
<div class="line">                self.camera_params[f<span class="stringliteral">&#39;CameraSystem_cam{i}_5&#39;</span>],</div>
<div class="line">                self.camera_params[f<span class="stringliteral">&#39;CameraSystem_cam{i}_6&#39;</span>]</div>
<div class="line">            ]</div>
</div><!-- fragment -->
</div>
</div>
<a id="a6aa746c458be9d2a58c9dc39fbca0784"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aa746c458be9d2a58c9dc39fbca0784">&#9670;&nbsp;</a></span>reprojection_threshold</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">featurematching_calculator.FeatureMatchingCalculator.reprojection_threshold</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Variable to store reprojection threshold, used to filter valid 3D points. </p>

</div>
</div>
<a id="a6d3c43f09b661582133e6367c8cace05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d3c43f09b661582133e6367c8cace05">&#9670;&nbsp;</a></span>robot_points</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">featurematching_calculator.FeatureMatchingCalculator.robot_points</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af30f0ed6647511cce8c1bd0820911ef2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af30f0ed6647511cce8c1bd0820911ef2">&#9670;&nbsp;</a></span>threshold_distance</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">featurematching_calculator.FeatureMatchingCalculator.threshold_distance</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Variable to store the threshold for the Euclidean distance between 3D points, used to filter the matches. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="featurematching__calculator_8py.html">featurematching_calculator.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
